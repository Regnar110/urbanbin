{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/Users/Mateusz/Desktop/Github-projects/urbanbin/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Mateusz/Desktop/Github-projects/urbanbin/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Mateusz/Desktop/Github-projects/urbanbin/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useParams,withRouter}from'react-router-dom';import{useState,useEffect}from'react';import'./productitem.scss';import ProductItemHeader from'../Product-item/ProductItemHeader/ProductItemHeader.component';import ProductItemSlider from'../../ProductItemComponents/Product-item-slider/ProductItemSlider.component';import ProductItemColors from'../../ProductItemComponents/Product-item-colors/Product-item-colors.component';import ProductItemData from'../../ProductItemComponents/Product-item-data/ProductItemData.component';import ProductItemWarranty from'../../ProductItemComponents/Product-item-warranty/ProductItemWarranty.component';import ProductItemDelivery from'../../ProductItemComponents/ProductItemDelivery/ProductItemDelivery.component';var ProductItem=function ProductItem(_ref){var match=_ref.match;var _useParams=useParams(),productId=_useParams.productId;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),model=_useState2[0],setModel=_useState2[1];var _useState3=useState('standard'),_useState4=_slicedToArray(_useState3,2),modelColor=_useState4[0],setModelColor=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),productDetails=_useState6[0],setProductDetails=_useState6[1];var handleFetchProductDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(currentProduct){var requestOptions,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:requestOptions={method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({model:currentProduct}),redirect:'follow'};_context.prev=1;_context.next=4;return fetch(\"http://localhost:3001/mgbs\",requestOptions);case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;console.log(data);setProductDetails(data.ProductDetails);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function handleFetchProductDetails(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){// przy zamontowaniu będziemy ściągać dane techniczne konkretnego produktu + zdjęcia standard i zdjęcia techniczne\nsetModel(match.params.productId);handleFetchProductDetails(match.params.productId);console.log('zostałem zamontowany i mój produkt to '+match.params.productId+'a mój kolor to '+modelColor);// stan się zmienia na bierząca po wejściu z home i w przerzycaniu menu\n},[model,match.params.productId,modelColor]);var handleColorClick=function handleColorClick(color){// na kliknięcie koloru będziemy ściągać zdjęcia z bazy\nsetModelColor(color);console.log(\"wybrany kolor to \".concat(color));};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-item\",children:[/*#__PURE__*/_jsx(ProductItemHeader,{productName:productId.toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"first-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"slider-colors\",children:[/*#__PURE__*/_jsx(ProductItemColors,{handleColorClick:handleColorClick}),/*#__PURE__*/_jsx(ProductItemSlider,{modelColor:modelColor})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-data\",children:/*#__PURE__*/_jsx(ProductItemData,{productDetails:productDetails})})]}),/*#__PURE__*/_jsx(ProductItemWarranty,{}),/*#__PURE__*/_jsx(ProductItemDelivery,{})]});};export default withRouter(ProductItem);","map":{"version":3,"sources":["C:/Users/Mateusz/Desktop/Github-projects/urbanbin/frontend/src/components/Products-components/Product-item/Product-item.component.jsx"],"names":["useParams","withRouter","useState","useEffect","ProductItemHeader","ProductItemSlider","ProductItemColors","ProductItemData","ProductItemWarranty","ProductItemDelivery","ProductItem","match","productId","model","setModel","modelColor","setModelColor","productDetails","setProductDetails","handleFetchProductDetails","currentProduct","requestOptions","method","headers","body","JSON","stringify","redirect","fetch","response","json","data","console","log","ProductDetails","params","handleColorClick","color","toUpperCase"],"mappings":"wmBAAA,OAASA,SAAT,CAAoBC,UAApB,KAAsC,kBAAtC,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,iBAAP,KAA8B,+DAA9B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,6EAA9B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,+EAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,yEAA5B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,iFAAhC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,+EAAhC,CAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,gBACTX,SAAS,EADA,CACvBY,SADuB,YACvBA,SADuB,eAGHV,QAAQ,CAAC,EAAD,CAHL,wCAGtBW,KAHsB,eAGfC,QAHe,8BAIOZ,QAAQ,CAAC,UAAD,CAJf,yCAItBa,UAJsB,eAIVC,aAJU,8BAKgBd,QAAQ,CAAC,EAAD,CALxB,yCAKtBe,cALsB,eAKLC,iBALK,eAO7B,GAAMC,CAAAA,yBAAyB,2FAAG,iBAAOC,cAAP,mJACxBC,cADwB,CACP,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFU,CAKfC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBb,KAAK,CAAEO,cADU,CAAf,CALS,CAQnBO,QAAQ,CAAE,QARS,CADO,uCAYHC,CAAAA,KAAK,8BAA+BP,cAA/B,CAZF,QAYpBQ,QAZoB,qCAaPA,CAAAA,QAAQ,CAACC,IAAT,EAbO,QAapBC,IAboB,eAc1BC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAb,iBAAiB,CAACa,IAAI,CAACG,cAAN,CAAjB,CAf0B,iFAmB1BF,OAAO,CAACC,GAAR,cAnB0B,qEAAH,kBAAzBd,CAAAA,yBAAyB,6CAA/B,CAyBAhB,SAAS,CAAC,UAAM,CAAE;AACdW,QAAQ,CAACH,KAAK,CAACwB,MAAN,CAAavB,SAAd,CAAR,CACAO,yBAAyB,CAACR,KAAK,CAACwB,MAAN,CAAavB,SAAd,CAAzB,CACAoB,OAAO,CAACC,GAAR,CAAY,yCAA2CtB,KAAK,CAACwB,MAAN,CAAavB,SAAxD,CAAmE,iBAAnE,CAAuFG,UAAnG,EAA+G;AAElH,CALQ,CAKN,CAACF,KAAD,CAAQF,KAAK,CAACwB,MAAN,CAAavB,SAArB,CAAgCG,UAAhC,CALM,CAAT,CAQA,GAAMqB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,KAAK,CAAI,CAAE;AAChCrB,aAAa,CAACqB,KAAD,CAAb,CACAL,OAAO,CAACC,GAAR,4BAAgCI,KAAhC,GACH,CAHD,CAKA,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,KAAC,iBAAD,EAAmB,WAAW,CAAEzB,SAAS,CAAC0B,WAAV,EAAhC,EADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,KAAC,iBAAD,EAAmB,gBAAgB,CAAEF,gBAArC,EADJ,cAEI,KAAC,iBAAD,EAAmB,UAAU,CAAErB,UAA/B,EAFJ,GADJ,cAKI,YAAK,SAAS,CAAC,cAAf,uBACI,KAAC,eAAD,EAAiB,cAAc,CAAEE,cAAjC,EADJ,EALJ,GAFJ,cAWI,KAAC,mBAAD,IAXJ,cAYI,KAAC,mBAAD,IAZJ,GADJ,CAiBH,CA9DD,CAgEA,cAAehB,CAAAA,UAAU,CAACS,WAAD,CAAzB","sourcesContent":["import { useParams, withRouter } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport './productitem.scss'\r\nimport ProductItemHeader from '../Product-item/ProductItemHeader/ProductItemHeader.component'\r\nimport ProductItemSlider from '../../ProductItemComponents/Product-item-slider/ProductItemSlider.component'\r\nimport ProductItemColors from '../../ProductItemComponents/Product-item-colors/Product-item-colors.component'\r\nimport ProductItemData from '../../ProductItemComponents/Product-item-data/ProductItemData.component'\r\nimport ProductItemWarranty from '../../ProductItemComponents/Product-item-warranty/ProductItemWarranty.component'\r\nimport ProductItemDelivery from '../../ProductItemComponents/ProductItemDelivery/ProductItemDelivery.component'\r\n\r\n\r\nconst ProductItem = ({match}) => {\r\n    let { productId } = useParams();\r\n\r\n    const [model, setModel] = useState('')\r\n    const [modelColor, setModelColor] = useState('standard')\r\n    const [productDetails , setProductDetails] = useState([])\r\n\r\n    const handleFetchProductDetails = async (currentProduct) => {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    model: currentProduct\r\n                  }),\r\n            redirect: 'follow'\r\n          };\r\n        try {\r\n            const response = await fetch(`http://localhost:3001/mgbs`, requestOptions)\r\n            const data = await response.json();\r\n            console.log(data)\r\n            setProductDetails(data.ProductDetails)\r\n\r\n        } catch(err) {\r\n\r\n            console.log(err)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => { // przy zamontowaniu będziemy ściągać dane techniczne konkretnego produktu + zdjęcia standard i zdjęcia techniczne\r\n        setModel(match.params.productId);\r\n        handleFetchProductDetails(match.params.productId);\r\n        console.log('zostałem zamontowany i mój produkt to ' + match.params.productId+ 'a mój kolor to '+  modelColor) // stan się zmienia na bierząca po wejściu z home i w przerzycaniu menu\r\n        \r\n    }, [model, match.params.productId, modelColor])\r\n    \r\n\r\n    const handleColorClick = color => { // na kliknięcie koloru będziemy ściągać zdjęcia z bazy\r\n        setModelColor(color)\r\n        console.log(`wybrany kolor to ${color}`)\r\n    }\r\n\r\n    return (\r\n        <div className='product-item'>\r\n            <ProductItemHeader productName={productId.toUpperCase()}/>\r\n            <div className='first-row'>\r\n                <div className='slider-colors'>\r\n                    <ProductItemColors handleColorClick={handleColorClick}/>\r\n                    <ProductItemSlider modelColor={modelColor} /> \r\n                </div>\r\n                <div className='product-data'>\r\n                    <ProductItemData productDetails={productDetails}/>\r\n                </div>\r\n            </div>\r\n            <ProductItemWarranty />\r\n            <ProductItemDelivery />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default withRouter(ProductItem);"]},"metadata":{},"sourceType":"module"}